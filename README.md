# FilesSyncServer

此为 FilesSync (文件同步) 的服务端，[客户端在此](https://github.com/KLXLjun/FilesSyncClient)

写的很简单，也不是很好，主要是为了实现同步功能，有bug或是功能意见请开一个新的issue

> [!NOTE]
> 在公网中使用此程序时建议使用例如 Nginx 之类的反向代理软件并配置 HTTPS，以保证文件传输安全性。

# 使用说明

启动服务端程序后，程序目录下会生成两个文件夹：```database``` 和 ```dl```。

## 配置文件

### 创建查询码文件

在 ```database``` 目录中创建一个文本文件（例如 example.txt），文件名即为查询码（check）。

文件内容每一行代表一个要同步的文件夹路径。同步的根文件夹路径为 ```./dl/查询码/```。

> **注意：**
> 目前不支持子文件夹同步。如果需要同步子文件夹，请将所有子目录路径也写入查询码文件中。

### 自定义查询码

您可以创建任意名称的文本文件作为查询码。文件名即为查询码。

> **提示：**
> 如果更新了 ```dl``` 或 ```database``` 文件夹中的任何文件，请重启程序以刷新配置。

## 示例

1. 在 ```database``` 文件夹中创建文件 ```workspace.txt```，内容如下：
    ```
    jobs
    other
    ```
2. 在程序目录下的 ```dl``` 文件夹中，创建文件夹 ```workspace```，并在其中创建文件夹 ```jobs``` 和 ```other```。

客户端请求时，会更新客户端配置文件中指定根目录中的 ```jobs``` 和 ```other``` 文件夹。

# to-do

- [ ] 更改反人类的配置同步列表方式

...待定